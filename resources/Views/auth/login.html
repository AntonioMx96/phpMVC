<h1>Log In</h1>
<div class="container">
    <div class="card card-container">
        <h2 class="titleLogin">Iniciar sesi&oacute;n</h2>
        <form method="post" class="form-signin" id="Session" name="Session">
            <input type="email" name="email" id="email" class="form-control" placeholder="email">
            <input type="password" name="password" id="password" class="form-control" placeholder="password">
            <button onclick="myFech()" type="button" id="btnLog" class="btn">Iniciar sesi&oacute;n</button>
        </form> <br>
    </div>
</div>

<script>
    const btn = document.querySelector('#btnLog')
    async function myFech() {
        const url = "<?= URL.'auth/userLogin';?>"

        let email = document.getElementById('email').value
        let password = document.getElementById("password").value
        let formulario = new FormData(document.getElementById("Session"))

        var data = {
            email: email,
            password: password
        };

        if (email == "" || password == "") {} else {
            //console.log(data)
            // const resultado = await fetch(url, {
            //     method: 'POST',
            //     body:{
            //         email:email
            //     }
            // })
            // const datos = await resultado.json()
            // console.log(datos);
            fetch(url, {
                method: "post",
                body: formulario
            }).then(res=>res.json())
            .then(data => {
                console.log(data)
                console.log(data.status)
                if(data.status===200){
                   location.reload()
                }
               
            })
        }
    }
</script>